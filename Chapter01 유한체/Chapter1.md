# 1.1 현대대수 학습
타원 곡선 암호를 파악하기 위해 필요.   
타원곡선 암호는 비트코인의 핵심인 전자서명과 서명 검증 알고리즘을 이해하는 데 필수적임.   
슈노어 서명, 기밀 트랜잭션 등의 이해를 위해 학습 필요   

# 1.2 유한체 정의
수학에서 유한체는 다음 성질들을 만족하는 2개의 연산자를 가진 집합이며 그 집합의 원소 수가 유한함.
<pre><code>
  1. a와 b가 집합에 속해 있으면, a+b와 a•b도 집합 안에 있다.   
     (집합 위에 두 연산 +, • 이 닫혀 있음)
  2. 집합에 0으로 표기하는 원소가 존재하고 집합 내 다른 원소 a와 +연산 결과는 a다.   
     즉 a+0=a (+ 연산에 대한 항등원 존재)
  3. 집합에 1로 표기하는 원소가 존재하고 집합 내 다른 원소 a와 •연산 결과는 a다.
     즉 a와 •연산 결관는 a다. 즉 a•1=a (•연산에 대한 항등원 존재)
  4. 집합의 원소 a와 +연산 결과가 0이 되게 하는 원소 b가 역시 집합에 속해 있고 이러한 b를 -a로 표기한다.
     (+연산에 대한 a의 역원 -a존재)
  5. 0이 아닌 집합의 원소 a에 대해 a•b=1이 되게 하는 원소 b가 역시 집합에 속해 있고 이러한 b를 a¯¹로 표기한다.
     (•연산에 대한 a의 역원a¯¹존재)
</code></pre>
유한 개수의 숫자를 원소로하는 집합이 존재.   
집합의 원소 개수가 유한하므로 집합의 크기를 어떤값 p라고 표현.  
어떤값 p를 위수(order)라고 함.
    
1번 성질에 의해 집합 원소들간의 덧셈과 곱셈 연산의 결과가 집합의 원소여야 함.
```
{0, 1, 2}에서 1+2=3, 2+2=4 이기 때문에 덧셈에 닫혀있지 않음.
{-1, 0, 1}은 곱셈에 닫혀있지만 덧셈에 대해 닫혀있지 않음.
```
예시의 두 집합을 덧셈과 곱셉에 대해 닫히도록 덧셈과 곱셈을 새로 정의해야 할 필요가 있음.
   
2번과 3번 성질을 만족하기위해 덧셈과 곱셈에 대한 항등원이 집합내에 존재해야함.   
```
덧셈에 대한 항등원 : 0
곱셉에 대한 항등원 : 1
```
   
4번 성질을 만족하기 위해 덧셈에 대한 역원이 존재해야 함.
```
집합내의 원소 a가 존재 -> -a 또한 집합내에 존재
{3, -3}
```
   
5번 성질을 만족하기 위해 곱셈에 대한 역원이 존재
```
집합내의 원소 a가 존재 -> a¯¹이 존재
{3, 1/3}
```

# 1.3 유한집합 정의하기
집합의 위수가 p이면 집합의 원소는 0, 1, 2, ··· p-1 로 쓸 수 있음   
여기서 원소들은 일반적인 숫자가 아님   
일반 숫자의 성질이 있지만 덧셈, 뺄셈, 곱셈에 대한 정의에 있어 차이가 있음
```
유한체 집합 표기
Fp = {0, 1, 2, ... p-1}
```
중괄호 안에 있는 것은 집합의 원소   
Fp는 위수 p의 유한체(p는 집합의 위수. 집합 안의 원소 개수)   
중괄호 안의 0, 1, 2는 유한체 안의 서로 다른 원소   
```
위수 11의 유한체
F₁₁ = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10}

위수 17의 유한체
F₁₇ = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,}

위수 983의 유한체
F₉₈₃ = {0, 1, 2, ... 982}
```
유한체는 반드시 소수이거나 소수의 거듭제곱을 위수로 가져야 함.

## 1.3.1 파이썬으로 유한체 
유한체 원소 1개를 표현하는 클래스를 정의. 클래스 이름은 FieldElement.
```
class FieldElement:
  
    def __init__(self, num, prime):
        if num >= prime or num < 0:  ➊
            error = 'Num {} not in field range 0 to {}'.format(
                num, prime - 1)
            raise ValueError(error)
        self.num = num  ➋
        self.prime = prime
  
    def __repr__(self):
        return 'FieldElement_{}({})'.format(self.prime, self.num)
        
    def __eq__(self, other):
        if other is None:
            return False
        return self.num == other.num and self.prime == other.prime  ➌
```
> ➊ num과 prime을 인수로 받은 후 num 값이 경곗값을 포함하여 0과 prime-1 사이 값인지조사   
> 그렇지 않은 경우 유효하지 않은 FieldElement를 얻게 되므로 ValueError를 발생    
> ➋ __init__ 메서드의 나머지 부분에서 조사된 인수 값으로 객체를 초기화   
> ➌ __eq__ 메서드는 FieldElement 클래스의 두 개체가 같은지 검사   
> 객체의 num과 prime 속성이 서로 같은 경우에만 True 값을 반환

# 1.4 나머지 연산
나머지 연산을 이용해 덧셈, 뺄셈, 곱셈, 나눗셈에 대해 닫혀 있는 유한체를 만들 수 있음.
```
7 % 3 = 1
1747 % 231 = 60

현재 시간이 3시 일때, 16시간전은 몇시였는가?
(3-16) % 12 = 11

현재 시간은이 12분일 때, 843분 후는 몇분인가?
(12 + 843) % 60 = 15
```
분에 대한 나머지연산(%) 결과는 항상 0 ~ 59의 범위를 가짐.   
아무리 큰 숫자라도 나머지 연산 후 에는 유한한 범위의 숫자로 변환되기 때문에 숫자 개수가 한정되어야 하는 유한체에 매우 적절한 속성임.   

## 1.4.1 파이썬으로 나머지 연산 코딩
```
print(7 % 3)
1

print(-27 % 13)
12
```

# 1.5 유한체 덧셈과 뺄셈
유한체에서의 덧셈을 정의할 때 그 결과가 유한체에 속해 있도록 해야함.   
즉, 유한체가 덧셈에 닫혀있도록 해야함.   
나머지 연산을 이용하여 덧셈을 정의하면 유한체가 덛셈에 닫혀 있도록 할 수 있음.
<pre><code>
19를 위수로하는 유한체
F₁₉ = {0, 1, 2, ... 18}

a, b는 F₁₉의 원소
a, b ∊ F₁₉

F₁₉는 덧셈에 대해 닫혀있음
a +<sub>f</sub> b ∊ F₁₉
</code></pre>
일반 정수에서의 덧셈과 구별하기 위해 +가 아닌 +<sub>f</sub>로 표시.

<pre><code>
유한체 덧셈 일반화 정의
a +<sub>f</sub> b = (a + b)%p
p는 위수. a, b ∊ F<sub>p</sub>

19를 위수로 하는 유한체 F₁₉
7 +<sub>f</sub> 8 = (7+8)%19 = 15
11 +<sub>f</sub> 17 = (11+17)%19 = 9
<code></pre>

